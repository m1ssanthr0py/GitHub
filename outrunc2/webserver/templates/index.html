<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malformed Labs C2</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/outrun.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="scanner-line"></div>
    <div class="container">
        <header class="header">
            <h1 class="title">
                <span class="neon-text">MALFORMED LABS</span>
                <span class="subtitle">C2 TERMINAL</span>
            </h1>
            <div class="system-status" id="systemStatus">
                <div class="status-indicator online" id="statusDot"></div>
                <span>SYSTEM ONLINE</span>
            </div>
        </header>

        <div class="dashboard">
            <div class="panel system-panel">
                <h2 class="panel-title">SYSTEM INFO</h2>
                <div class="system-info" id="systemInfo">
                    <div class="loading">Loading system data...</div>
                </div>
            </div>

            <div class="panel network-panel">
                <h2 class="panel-title">NETWORK STATUS</h2>
                <div class="network-status" id="networkStatus">
                    <div class="loading">Scanning network...</div>
                </div>
            </div>

            <div class="panel connections-panel">
                <h2 class="panel-title">ðŸ”´ LIVE CONNECTIONS MONITOR</h2>
                <div class="connections-container">
                    <div class="connection-stats" id="connectionStats">
                        <div class="stat-box">
                            <div class="stat-value" id="totalClients">0</div>
                            <div class="stat-label">TOTAL</div>
                        </div>
                        <div class="stat-box active">
                            <div class="stat-value" id="activeClients">0</div>
                            <div class="stat-label">ACTIVE</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="totalEvents">0</div>
                            <div class="stat-label">EVENTS</div>
                        </div>
                    </div>
                    <div class="connection-display">
                        <div class="connected-clients" id="connectedClients">
                            <div class="loading">Monitoring for connections...</div>
                        </div>
                        <div class="connection-events" id="connectionEvents">
                            <h3 class="events-title">RECENT ACTIVITY</h3>
                            <div class="events-log" id="eventsLog">
                                <div class="loading">Waiting for events...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel client-panel">
                <h2 class="panel-title">CLIENT MANAGEMENT</h2>
                <div class="client-container">
                    <div class="client-status" id="clientStatus">
                        <div class="loading">Loading client status...</div>
                    </div>
                    <div class="client-controls">
                        <div class="command-section">
                            <select id="clientCommandSelect" class="terminal-select">
                                <option value="">Select command...</option>
                                <option value="whoami">whoami</option>
                                <option value="hostname">hostname</option>
                                <option value="pwd">pwd</option>
                                <option value="ls">ls -la</option>
                                <option value="date">date</option>
                                <option value="uptime">uptime</option>
                                <option value="ip addr">ip addr show</option>
                                <option value="ps">ps aux</option>
                                <option value="df">df -h</option>
                                <option value="free">free -h</option>
                                <option value="cat /etc/os-release">cat /etc/os-release</option>
                                <option value="python3 --version">python3 --version</option>
                                <option value="ping -c 3 8.8.8.8">ping -c 3 8.8.8.8</option>
                            </select>
                        </div>
                        <div class="client-buttons">
                            <button id="executeOnAllBtn" class="execute-btn">EXECUTE ON ALL</button>
                            <div class="individual-buttons">
                                <button id="executeOnEndpoint1" class="client-btn" data-client="endpoint1">ENDPOINT1</button>
                                <button id="executeOnEndpoint2" class="client-btn" data-client="endpoint2">ENDPOINT2</button>
                                <button id="executeOnEndpoint3" class="client-btn" data-client="endpoint3">ENDPOINT3</button>
                            </div>
                        </div>
                    </div>
                    <div class="client-output" id="clientOutput">
                        <div class="terminal-line">
                            <span class="prompt">c2@malformed:~$</span>
                            <span class="command">Client management initialized</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel terminal-panel">
                <h2 class="panel-title">SERVER TERMINAL</h2>
                <div class="terminal-container">
                    <div class="terminal-output" id="terminalOutput">
                        <div class="terminal-line">
                            <span class="prompt">root@malformed:~$</span>
                            <span class="command">System initialized</span>
                        </div>
                    </div>
                    <div class="terminal-input-container">
                        <span class="prompt">root@malformed:~$</span>
                        <select id="commandSelect" class="terminal-select">
                            <option value="">Select command...</option>
                            <option value="whoami">whoami</option>
                            <option value="pwd">pwd</option>
                            <option value="ls">ls</option>
                            <option value="date">date</option>
                            <option value="uptime">uptime</option>
                            <option value="ip addr">ip addr</option>
                            <option value="ps">ps</option>
                            <option value="df">df</option>
                            <option value="free">free</option>
                        </select>
                        <button id="executeBtn" class="execute-btn">EXECUTE</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="navigation-bar">
            <a href="/terminal" class="nav-button">Full Terminal</a>
            <a href="/about" class="nav-button">About & Theme</a>
        </div>

        <div class="grid-overlay"></div>
    </div>

    <script src="{{ url_for('static', filename='js/outrun.js') }}"></script>
</body>
</html>